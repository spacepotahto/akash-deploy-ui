(this["webpackJsonpakash-deploy-ui"]=this["webpackJsonpakash-deploy-ui"]||[]).push([[6],{265:function(e,t){},419:function(e,t,n){},431:function(e,t){},433:function(e,t){},443:function(e,t){},445:function(e,t){},492:function(e,t){},494:function(e,t){},495:function(e,t){},500:function(e,t){},502:function(e,t){},508:function(e,t){},510:function(e,t){},529:function(e,t){},541:function(e,t){},544:function(e,t){},550:function(e,t){},600:function(e,t){},603:function(e,t){},619:function(e,t){},686:function(e,t){},798:function(e,t,n){var a={"./apl/apl.js":[827,30],"./asciiarmor/asciiarmor.js":[828,31],"./asn.1/asn.1.js":[829,32],"./asterisk/asterisk.js":[830,33],"./brainfuck/brainfuck.js":[831,34],"./clike/clike.js":[816,2],"./clojure/clojure.js":[832,35],"./cmake/cmake.js":[833,36],"./cobol/cobol.js":[834,37],"./coffeescript/coffeescript.js":[817,38],"./commonlisp/commonlisp.js":[835,39],"./crystal/crystal.js":[836,40],"./css/css.js":[813,1],"./cypher/cypher.js":[837,41],"./d/d.js":[838,42],"./dart/dart.js":[839,2,43],"./diff/diff.js":[840,44],"./django/django.js":[841,0,1,11],"./dockerfile/dockerfile.js":[842,21],"./dtd/dtd.js":[843,45],"./dylan/dylan.js":[844,46],"./ebnf/ebnf.js":[845,47],"./ecl/ecl.js":[846,48],"./eiffel/eiffel.js":[847,49],"./elm/elm.js":[848,50],"./erlang/erlang.js":[849,51],"./factor/factor.js":[850,22],"./fcl/fcl.js":[851,52],"./forth/forth.js":[852,53],"./fortran/fortran.js":[853,54],"./gas/gas.js":[854,55],"./gfm/gfm.js":[855,4,20],"./gherkin/gherkin.js":[856,56],"./go/go.js":[857,57],"./groovy/groovy.js":[858,58],"./haml/haml.js":[859,0,1,14],"./handlebars/handlebars.js":[818,16],"./haskell-literate/haskell-literate.js":[860,26],"./haskell/haskell.js":[819,59],"./haxe/haxe.js":[861,60],"./htmlembedded/htmlembedded.js":[862,0,1,10],"./htmlmixed/htmlmixed.js":[812,0,1,27],"./http/http.js":[863,61],"./idl/idl.js":[864,62],"./javascript/javascript.js":[814,0],"./jinja2/jinja2.js":[865,63],"./jsx/jsx.js":[866,0,28],"./julia/julia.js":[867,64],"./livescript/livescript.js":[868,65],"./lua/lua.js":[869,66],"./markdown/markdown.js":[824,4],"./mathematica/mathematica.js":[870,67],"./mbox/mbox.js":[871,68],"./meta.js":[233],"./mirc/mirc.js":[872,69],"./mllike/mllike.js":[873,70],"./modelica/modelica.js":[874,71],"./mscgen/mscgen.js":[875,72],"./mumps/mumps.js":[876,73],"./nginx/nginx.js":[877,74],"./nsis/nsis.js":[878,23],"./ntriples/ntriples.js":[879,75],"./octave/octave.js":[880,76],"./oz/oz.js":[881,77],"./pascal/pascal.js":[882,78],"./pegjs/pegjs.js":[883,0,79],"./perl/perl.js":[884,80],"./php/php.js":[885,0,1,2,17],"./pig/pig.js":[886,81],"./powershell/powershell.js":[887,82],"./properties/properties.js":[888,83],"./protobuf/protobuf.js":[889,84],"./pug/pug.js":[825,0,1,3],"./puppet/puppet.js":[890,85],"./python/python.js":[820,86],"./q/q.js":[891,87],"./r/r.js":[892,88],"./rpm/rpm.js":[893,89],"./rst/rst.js":[894,13],"./ruby/ruby.js":[815,90],"./rust/rust.js":[895,24],"./sas/sas.js":[896,91],"./sass/sass.js":[822,1,92],"./scheme/scheme.js":[897,93],"./shell/shell.js":[898,94],"./sieve/sieve.js":[899,95],"./slim/slim.js":[900,0,1,15],"./smalltalk/smalltalk.js":[901,96],"./smarty/smarty.js":[902,97],"./solr/solr.js":[903,98],"./soy/soy.js":[904,0,1,18],"./sparql/sparql.js":[905,99],"./spreadsheet/spreadsheet.js":[906,100],"./sql/sql.js":[907,101],"./stex/stex.js":[821,102],"./stylus/stylus.js":[826,5],"./swift/swift.js":[908,103],"./tcl/tcl.js":[909,104],"./textile/textile.js":[910,105],"./tiddlywiki/tiddlywiki.js":[911,106],"./tiki/tiki.js":[912,107],"./toml/toml.js":[913,108],"./tornado/tornado.js":[914,0,1,12],"./troff/troff.js":[915,109],"./ttcn-cfg/ttcn-cfg.js":[917,110],"./ttcn/ttcn.js":[916,111],"./turtle/turtle.js":[918,112],"./twig/twig.js":[919,19],"./vb/vb.js":[920,113],"./vbscript/vbscript.js":[921,114],"./velocity/velocity.js":[922,115],"./verilog/verilog.js":[923,116],"./vhdl/vhdl.js":[924,117],"./vue/vue.js":[925,0,1,5,3,9],"./wast/wast.js":[926,25],"./webidl/webidl.js":[927,118],"./xml/xml.js":[811,119],"./xquery/xquery.js":[928,120],"./yacas/yacas.js":[929,121],"./yaml-frontmatter/yaml-frontmatter.js":[930,29],"./yaml/yaml.js":[823,122],"./z80/z80.js":[931,123]};function r(e){if(!n.o(a,e))return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}));var t=a[e],r=t[0];return Promise.all(t.slice(1).map(n.e)).then((function(){return n.t(r,7)}))}r.keys=function(){return Object.keys(a)},r.id=798,e.exports=r},803:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(33),s=n.n(c),o=(n(419),n(420),n(11)),i=n.n(o),l=n(30),u=n(23),j=n(70),d="akashnet-2",b="http://198.211.113.37:8888/provider",f=n(4),p=r.a.createContext({address:"",name:""}),h=r.a.createContext((function(){})),x=function(){return Object(a.useContext)(p)},m=function(e){var t=e.children,n=Object(a.useState)({address:"",name:""}),r=Object(u.a)(n,2),c=r[0],s=r[1];return Object(a.useEffect)((function(){var e=function(){var e=Object(l.a)(i.a.mark((function e(){var t,n,a,r,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.keplr){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,window.keplr.enable(d);case 4:return e.next=6,window.keplr.getKey(d);case 6:return t=e.sent,n=window.getOfflineSigner(d),e.next=10,j.Akash.connect("http://198.211.113.37:8888/rpc",n);case 10:return a=e.sent,e.next=13,n.getAccounts();case 13:r=e.sent,c=r[0].address,s({address:c,name:t.name,akash:a});case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e();var t=function(){e()};return window.addEventListener("keplr_keystorechange",t),function(){window.removeEventListener("keplr_keystorechange",t)}}),[]),Object(f.jsx)(p.Provider,{value:c,children:Object(f.jsx)(h.Provider,{value:function(e){s(e)},children:t})})},O=n(995),v=n(996),g=n(1001),y=n(998),k=n.p+"static/media/1620312207-vertical-powered-by.124284d8.svg",w=n(390),S=n.n(w),C=n(388),q=n.n(C),D=n(389),E=n.n(D),N=n(174),L=n.n(N),B=n(81),I=n(970),z=n(376),R=n.n(z),A=function(e){var t,n,a=x();return Object(f.jsxs)(I.a,{container:!0,direction:"row",wrap:"nowrap",justifyContent:"flex-end",alignItems:"center",spacing:2,children:[Object(f.jsx)(I.a,{item:!0,children:Object(f.jsx)(R.a,{})}),Object(f.jsxs)(I.a,{item:!0,container:!0,direction:"column",children:[Object(f.jsx)(I.a,{item:!0,xs:!0,zeroMinWidth:!0,children:Object(f.jsx)(B.a,{variant:"h6",noWrap:!0,children:a.name})}),Object(f.jsx)(I.a,{item:!0,children:Object(f.jsx)(B.a,{variant:"subtitle1",children:"".concat((t=e.balance||0,n=3,(1e-6*t).toLocaleString(void 0,{minimumFractionDigits:n,maximumFractionDigits:n}))," AKT")})})]})]})},P=n(972),T=n(232),M=n(997),F=n(1002),Q=n(999),G=n(976),W=n(377),_=(n(799),n(802),n(979)),J=n(1003),Y=n(983),K=n(981),V=n(982),U=n(1007),$=n(1010),H=n(977),X=n(1006),Z=n(1011),ee=n(396),te=n(978),ne=n(231),ae=n.n(ne),re=n(1005),ce=n(974),se=n(975),oe=n(973),ie=Object(P.a)((function(e){return{formControl:{margin:e.spacing(3)},button:{margin:e.spacing(1,1,0,0)}}}));function le(e){var t=ie(),n=r.a.useState(""),a=Object(u.a)(n,2),c=a[0],s=a[1];console.log(e.bidsList);return Object(f.jsx)("form",{onSubmit:function(t){t.preventDefault(),console.log("PROVIDER",c),e.handleChooseProvider(c)},children:Object(f.jsxs)(oe.a,{component:"fieldset",className:t.formControl,children:[Object(f.jsx)(ce.a,{"aria-label":"providers",name:"providers",value:c,onChange:function(e){s(e.target.value)},children:e.bidsList.map((function(e){return Object(f.jsx)(se.a,{value:e.bid.bidId.provider,control:Object(f.jsx)(re.a,{}),label:e.bid.bidId.provider})}))}),Object(f.jsx)(G.a,{type:"submit",variant:"outlined",color:"secondary",className:t.button,children:"Submit"})]})})}var ue=Object(P.a)((function(e){return Object(U.a)({root:{width:"100%"},button:{marginTop:e.spacing(1),marginRight:e.spacing(1)},actionsContainer:{marginBottom:e.spacing(2)},resetContainer:{padding:e.spacing(3)},icon:{color:ae.a[200],"&$activeIcon":{color:ae.a[400]},"&$completedIcon":{color:e.palette.secondary.main}},activeIcon:{},completedIcon:{}})}));function je(e){return new Promise((function(t){setTimeout(t,1e3*e)}))}function de(e){var t=ue(),n=r.a.useState(0),c=Object(u.a)(n,2),s=c[0],o=c[1],d=r.a.useState({}),p=Object(u.a)(d,2),h=p[0],m=p[1],O=r.a.useState([]),v=Object(u.a)(O,2),y=v[0],k=v[1],w=r.a.useState(""),S=Object(u.a)(w,2),C=S[0],q=S[1],D=r.a.useState({}),E=Object(u.a)(D,2),N=E[0],L=E[1],I=r.a.useState(!0),z=Object(u.a)(I,2),R=z[0],A=z[1],P=r.a.useState('Awaiting "create deployment" transaction...'),T=Object(u.a)(P,2),M=T[0],F=T[1],Q=["Create a Deployment","Choose your Provider","Create a Lease"],W=x(),_=W.akash,J=e.handleSetDismissable,Y=function(){var t=Object(l.a)(i.a.mark((function t(){var n,a,r,c,s,o,l,u,d;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(_){t.next=2;break}return t.abrupt("return");case 2:return console.log("Create a Deployment (tx deployment create)"),n=e.sdl,(a=_.tx.deployment.create.params({sdl:n})).catch((function(e){return A(!1)})),t.next=8,a;case 8:return r=t.sent,console.log(r),c=Object(j.findDeploymentSequence)(r),s=c.dseq,o=c.gseq,l=c.oseq,console.log(s,o,l),e.updateBalance(),F("Waiting for bids..."),t.next=16,je(5);case 16:u=!1;case 17:if(u){t.next=29;break}return console.log("Query Bids"),t.next=21,_.query.market.bid.list.params({owner:W.address,dseq:s});case 21:return d=t.sent,console.log(d),console.log(""),u=d.bids.length>0,t.next=27,je(2);case 27:t.next=17;break;case 29:return t.abrupt("return",{dseq:s,gseq:o,oseq:l,queryMarketBidResult:d});case 30:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),K=function(){var t=Object(l.a)(i.a.mark((function t(){var n,a,r,c,s,o,l,u,j,d;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(_){t.next=2;break}return t.abrupt("return");case 2:return n=e.sdl,a=h.dseq,r=h.gseq,c=h.oseq,s=C,F('Awaiting "create lease" transaction...'),console.log("Create a Lease"),t.next=9,_.tx.market.lease.create.params({dseq:a,oseq:c,gseq:r,provider:s});case 9:return o=t.sent,console.log(o),console.log(""),e.updateBalance(),F("Confirming the lease..."),t.next=16,je(1);case 16:return console.log("Confirm the Lease"),t.next=19,_.query.market.lease.list.params({owner:W.address,dseq:a});case 19:return l=t.sent,console.log(l),console.log(""),F("Querying the provider..."),t.next=25,je(1);case 25:return console.log("Query Provider"),t.next=28,_.query.provider.get.params({provider:s});case 28:return u=t.sent,console.log(u),console.log(""),F("Sending the manifest..."),t.next=34,je(5);case 34:return console.log("Send the Manifest"),t.next=37,_.provider.sendManifest.params({sdl:n,dseq:a,provider:s,proxy:b});case 37:return j=t.sent,console.log(j),console.log(""),F("Querying lease status..."),t.next=43,je(5);case 43:return console.log("Provider Lease Status"),t.next=46,_.provider.leaseStatus.params({dseq:a,oseq:c,gseq:r,provider:s,proxy:b});case 46:return d=t.sent,console.log(d),console.log(""),t.abrupt("return",d);case 50:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();Object(a.useEffect)((function(){Y().then((function(e){V(),m(e)}))}),[]),Object(a.useEffect)((function(){if(null!=h.dseq){var e=h.queryMarketBidResult.bids;k(e)}}),[h]),Object(a.useEffect)((function(){""!==C&&K().then((function(e){V(),L(e)}))}),[C]),Object(a.useEffect)((function(){s===Q.length&&J(!0)}),[s,Q,J]);var V=function(){o((function(e){return e+1}))},U=function(e,n){switch(e){case 0:return Object(f.jsxs)(r.a.Fragment,{children:[Object(f.jsx)(B.a,{gutterBottom:!0,children:"Submit your deployment to the blockchain via Keplr. This generates an order on the Akash marketplace."}),Object(f.jsx)(B.a,{variant:"subtitle2",color:"secondary",children:M}),Object(f.jsx)(G.a,{onClick:n,color:"secondary",className:t.button,disabled:R,children:"Cancel"})]});case 1:return Object(f.jsxs)(r.a.Fragment,{children:[Object(f.jsx)(B.a,{gutterBottom:!0,children:"The following providers bid on your order. Choose one:"}),Object(f.jsx)(le,{bidsList:y,handleChooseProvider:function(e){V(),q(e)}})]});case 2:return Object(f.jsxs)(r.a.Fragment,{children:[Object(f.jsx)(B.a,{gutterBottom:!0,children:"Create a lease for the bid from the chosen provider via Keplr. Once created, your deployment manifest will be submitted to the provider."}),Object(f.jsx)(B.a,{variant:"subtitle2",color:"secondary",children:M})]});default:return"Unknown step"}};return Object(f.jsxs)("div",{className:t.root,children:[Object(f.jsx)($.a,{activeStep:s,orientation:"vertical",children:Q.map((function(n,a){return Object(f.jsxs)(H.a,{children:[Object(f.jsxs)(X.a,{StepIconProps:{classes:{root:t.icon,active:t.activeIcon,completed:t.completedIcon}},children:[n,s===a&&Object(f.jsx)(g.a,{component:"span",p:1,children:Object(f.jsx)(te.a,{color:"secondary",size:15})})]}),Object(f.jsx)(Z.a,{children:U(a,e.handleDialogClose)})]},n)}))}),s===Q.length&&Object(f.jsxs)(ee.a,{square:!0,elevation:0,className:t.resetContainer,children:[Object(f.jsx)(B.a,{children:"The provider has executed your workload! Your access details:"}),Object(f.jsx)("div",{children:Object(f.jsx)("pre",{style:{fontSize:"0.75rem"},children:JSON.stringify(N,null,2)})})]})]})}var be=function(e){var t=x(),n=e.sdl,c=r.a.useState(!1),s=Object(u.a)(c,2),o=s[0],d=s[1],b=r.a.useState(!1),p=Object(u.a)(b,2),h=p[0],m=p[1],O=r.a.useState(!1),v=Object(u.a)(O,2),y=v[0],k=v[1],w=r.a.useState(null),S=Object(u.a)(w,2),C=S[0],q=S[1],D=function(){var e=Object(l.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(j.loadPEMBlocks)(t.address).catch((function(e){return console.log(e)}));case 2:e.sent?d(!0):m(!0);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),E=function(){d(!1),m(!1)};return Object(a.useEffect)((function(){return function(){document.querySelectorAll(".CodeMirror").forEach((function(e){return e.remove()}))}}),[]),Object(f.jsxs)(r.a.Fragment,{children:[Object(f.jsx)(g.a,{pb:2,children:Object(f.jsxs)(B.a,{variant:"h6",children:["Deploy your App ",Object(f.jsx)(_.a,{href:"https://docs.akash.network/guides/deployment#create-your-configuration",target:"_blank",rel:"noopener",color:"secondary",children:"Configuration"})]})}),Object(f.jsx)(W.a,{value:n,onChange:function(e,t){q(e)},options:{theme:"monokai",keyMap:"sublime",mode:"yml"},height:"calc(100vh - 300px)",width:"100%"}),Object(f.jsxs)(g.a,{pt:2,children:[Object(f.jsx)(G.a,{size:"large",variant:"contained",color:"secondary",onClick:D,children:"Deploy!"}),Object(f.jsxs)(J.a,{open:o,onClose:function(e,t){"backdropClick"!==t&&d(!1)},"aria-describedby":"deploy-dialog-stepper",children:[Object(f.jsx)(K.a,{children:Object(f.jsx)(V.a,{id:"deploy-dialog-stepper",children:Object(f.jsx)(de,{sdl:new j.SDL(C?C.getValue():n),handleDialogClose:E,handleSetDismissable:k,updateBalance:e.updateBalance})})}),Object(f.jsx)(Y.a,{children:Object(f.jsx)(G.a,{onClick:E,variant:"contained",color:"secondary",disabled:!y,children:"Close"})})]}),Object(f.jsxs)(J.a,{open:h,children:[Object(f.jsx)(K.a,{children:Object(f.jsx)(V.a,{children:'No valid certificate found. A valid certificate is required for deployments. Please go to "Certificate" tab to create one.'})}),Object(f.jsx)(Y.a,{children:Object(f.jsx)(G.a,{onClick:E,variant:"contained",color:"secondary",children:"Close"})})]})]})]})},fe=n(984),pe=n(986),he=n(985),xe=n(380),me=n.n(xe),Oe=n(381),ve=n.n(Oe),ge=Object(P.a)({root:{width:500,display:"flex",flexGrow:1,flexDirection:"column",justifyContent:"center",alignItems:"center"},title:{fontSize:14},pos:{marginTop:10,marginBottom:12,marginRight:50,marginLeft:50}}),ye=function(e){var t=ge();return Object(f.jsxs)(r.a.Fragment,{children:[""===e.certificate.state&&Object(f.jsx)(te.a,{color:"secondary"}),""!==e.certificate.state&&Object(f.jsxs)(fe.a,{className:t.root,raised:!0,children:[Object(f.jsxs)(he.a,{className:t.root,children:["valid"===e.certificate.state&&Object(f.jsxs)(r.a.Fragment,{children:[Object(f.jsxs)(B.a,{variant:"h5",color:"textSecondary",children:[Object(f.jsx)(me.a,{color:"secondary"})," Valid Certificate"]}),Object(f.jsx)(B.a,{className:t.pos,color:"textSecondary",children:"Serial Number: ".concat(e.certificate.serial)})]}),"invalid"===e.certificate.state&&Object(f.jsxs)(r.a.Fragment,{children:[Object(f.jsxs)(B.a,{variant:"h5",color:"textSecondary",children:[Object(f.jsx)(ve.a,{color:"secondary"})," No Valid Certificate Found"]}),Object(f.jsx)(B.a,{className:t.pos,color:"textSecondary",children:"A valid certificate is required for deployment. Please create one using the button below."})]})]}),Object(f.jsxs)(pe.a,{children:["valid"===e.certificate.state&&Object(f.jsxs)(G.a,{size:"large",variant:"contained",color:"secondary",onClick:function(){e.revoke(e.certificate.serial)},disabled:e.buttonBusy,children:[!e.buttonBusy&&"Revoke",e.buttonBusy&&Object(f.jsx)(te.a,{color:"secondary",size:30})]}),"invalid"===e.certificate.state&&Object(f.jsxs)(G.a,{size:"large",variant:"contained",color:"secondary",onClick:e.create,disabled:e.buttonBusy,children:[!e.buttonBusy&&"Create",e.buttonBusy&&Object(f.jsx)(te.a,{color:"secondary",size:30})]})]})]})]})},ke=function(e){var t=x(),n=t.akash,r=Object(a.useState)({serial:"",state:""}),c=Object(u.a)(r,2),s=c[0],o=c[1],d=Object(a.useState)(!1),b=Object(u.a)(d,2),p=b[0],h=b[1],m=function(){var e=Object(l.a)(i.a.mark((function e(){var a,r,c,s,l,u;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Object(j.loadPEMBlocks)(t.address).catch((function(e){return console.log(e)}));case 4:if(a=e.sent,r=!1,!a){e.next=11;break}return e.next=9,n.query.cert.list.params({owner:t.address,serial:a.serialNumber.toString()});case 9:(c=e.sent).certificates.length>0?(l=c.certificates[0],u=null===(s=l.certificate)||void 0===s?void 0:s.state,r=1===u):r=!1;case 11:o({serial:a?a.serialNumber.toString():"",state:r?"valid":"invalid"});case 12:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){m()}),[t]);var O=function(){var t=Object(l.a)(i.a.mark((function t(a){var r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=2;break}return t.abrupt("return");case 2:return h(!0),t.next=5,n.tx.cert.revoke.params({serial:a}).catch((function(e){h(!1)}));case 5:return r=t.sent,t.next=8,m();case 8:return h(!1),console.log(r),e.updateBalance(),t.abrupt("return",r);case 12:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),v=function(){var t=Object(l.a)(i.a.mark((function t(){var a;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=2;break}return t.abrupt("return");case 2:return h(!0),t.next=5,n.tx.cert.create.client.params().catch((function(e){h(!1)}));case 5:return a=t.sent,t.next=8,m();case 8:return h(!1),console.log(a),e.updateBalance(),t.abrupt("return",a);case 12:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(f.jsx)(ye,{certificate:s,revoke:O,create:v,buttonBusy:p})},we=n(992),Se=n(987),Ce=n(988),qe=n(990),De=n(989),Ee=n(1008),Ne=n(807),Le=n(382),Be=n.n(Le),Ie=n(383),ze=n.n(Ie),Re=n(385),Ae=n.n(Re),Pe=n(384),Te=n.n(Pe),Me=n(806),Fe=n(991),Qe=function(e){var t=x(),n=t.akash,c=Object(a.useState)(null),s=Object(u.a)(c,2),o=s[0],j=s[1],d=Object(a.useState)(!1),p=Object(u.a)(d,2),h=p[0],m=p[1],O=Object(a.useState)(-1),v=Object(u.a)(O,2),g=v[0],y=v[1],k=Object(a.useState)(!1),w=Object(u.a)(k,2),S=w[0],C=w[1],q=Object(a.useState)({}),D=Object(u.a)(q,2),E=D[0],N=D[1],L=Object(a.useState)(!1),I=Object(u.a)(L,2),z=I[0],R=I[1],A=Object(a.useState)(-1),T=Object(u.a)(A,2),M=T[0],F=T[1],Q=r.a.useState({}),W=Object(u.a)(Q,2),_=W[0],$=W[1],H=function(){var e=Object(l.a)(i.a.mark((function e(){var a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,n.query.deployment.list.params({owner:t.address});case 4:a=e.sent,console.log(a),j(a.deployments.sort((function(e,t){var n,a,r,c;return Number((null===(n=t.deployment)||void 0===n||null===(a=n.deploymentId)||void 0===a?void 0:a.dseq)||0)-Number((null===(r=e.deployment)||void 0===r||null===(c=r.deploymentId)||void 0===c?void 0:c.dseq)||0)})));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),X=function(){var t=Object(l.a)(i.a.mark((function t(a){var r;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n){t.next=2;break}return t.abrupt("return");case 2:return t.next=4,n.tx.deployment.close.params({dseq:a}).then(H).then((function(){return y(-1)})).catch((function(e){console.log(e),y(-1)}));case 4:return r=t.sent,console.log(r),e.updateBalance(),t.abrupt("return",r);case 8:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}();Object(a.useEffect)((function(){H()}),[t]);var Z=Object(P.a)((function(e){return Object(U.a)({root:{display:"flex",flexGrow:1,justifyContent:"center",alignItems:"center"},active:{backgroundColor:e.palette.secondary.main}})}))(),ee=function(){var e=Object(l.a)(i.a.mark((function e(a){var r,c,s,o,l,u,j,d,f,p,h,x;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,n.query.market.lease.list.params({owner:t.address,dseq:a});case 4:if(j=e.sent,console.log(j),0!==(d=j.leases).length){e.next=9;break}return e.abrupt("return");case 9:return f=(null===(r=d[0].lease)||void 0===r||null===(c=r.leaseId)||void 0===c?void 0:c.gseq)||1,p=(null===(s=d[0].lease)||void 0===s||null===(o=s.leaseId)||void 0===o?void 0:o.oseq)||1,h=(null===(l=d[0].lease)||void 0===l||null===(u=l.leaseId)||void 0===u?void 0:u.provider)||"",console.log("DSEQ: ".concat(a,", GSEQ: ").concat(f,", OSEQ: ").concat(p,", Provider: ").concat(h)),e.next=15,n.provider.leaseStatus.params({dseq:a,oseq:p,gseq:f,provider:h,proxy:b});case 15:return x=e.sent,console.log(x),$(x),e.abrupt("return",x);case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsxs)(r.a.Fragment,{children:[null==o&&Object(f.jsx)("div",{className:Z.root,children:Object(f.jsx)(te.a,{color:"secondary"})}),null!=o&&Object(f.jsxs)("div",{children:[Object(f.jsx)(Me.a,{row:!0,children:Object(f.jsx)(se.a,{control:Object(f.jsx)(Fe.a,{color:"secondary",checked:h,onChange:function(e){m(e.target.checked)},name:"showInactive"}),label:"Show Inactive"})}),Object(f.jsx)(we.a,{component:"nav",children:function(){var e=h?o:o.filter((function(e){return 1===e.deployment.state}));return 0===e.length?Object(f.jsx)(B.a,{children:"No items to show."}):e.map((function(e){var t=Number(e.deployment.deploymentId.dseq),n=e.deployment.state,a=1===n?Object(f.jsx)(Ee.a,{className:Z.active,children:Object(f.jsx)(Be.a,{})}):Object(f.jsx)(Ee.a,{children:Object(f.jsx)(ze.a,{})}),r=g===t?Object(f.jsx)(te.a,{color:"secondary",size:25}):Object(f.jsx)(Te.a,{});return Object(f.jsxs)(Se.a,{button:!0,onClick:function(){C(!0),N(e)},children:[Object(f.jsx)(Ce.a,{children:a}),Object(f.jsx)(De.a,{primary:"DSEQ: ".concat(t)}),Object(f.jsxs)(qe.a,{children:[Object(f.jsxs)(Ne.a,{edge:"end","aria-label":"access details",onClick:function(){F(t),ee(t).then((function(){F(-1),R(!0)}))},children:[1===n&&!(M===t)&&Object(f.jsx)(Ae.a,{}),1===n&&M===t&&Object(f.jsx)(te.a,{color:"secondary",size:25})]}),Object(f.jsx)(Ne.a,{edge:"end","aria-label":"delete",onClick:function(){y(t),X(t)},children:1===n&&r})]})]},t)}))}()}),Object(f.jsxs)(J.a,{open:S,children:[Object(f.jsx)(K.a,{children:Object(f.jsx)(V.a,{children:Object(f.jsx)("div",{children:Object(f.jsx)("pre",{style:{fontSize:"0.75rem"},children:JSON.stringify(E,null,2)})})})}),Object(f.jsx)(Y.a,{children:Object(f.jsx)(G.a,{onClick:function(){C(!1)},variant:"contained",color:"secondary",children:"Close"})})]}),Object(f.jsxs)(J.a,{open:z,children:[Object(f.jsx)(K.a,{children:Object(f.jsx)(V.a,{children:Object(f.jsx)("div",{children:Object(f.jsx)("pre",{style:{fontSize:"0.75rem"},children:JSON.stringify(_,null,2)})})})}),Object(f.jsx)(Y.a,{children:Object(f.jsx)(G.a,{onClick:function(){R(!1)},variant:"contained",color:"secondary",children:"Close"})})]})]})]})},Ge=n(980),We=Object(P.a)((function(e){return Object(U.a)({backdrop:{zIndex:e.zIndex.drawer+1,color:"#fff"}})}));function _e(e){var t=We();return Object(f.jsx)("div",{children:Object(f.jsx)(Ge.a,{className:t.backdrop,open:e.open,children:Object(f.jsx)(te.a,{color:"inherit"})})})}var Je=n(994),Ye=n(387),Ke=n.n(Ye),Ve=n(993),Ue=n(1004),$e=n(386),He=n.n($e),Xe=Object(P.a)((function(e){return Object(U.a)({actionsRoot:{justifyContent:"space-evenly"}})})),Ze=function(e){var t,n=Xe(),a=function(){var e=Object(l.a)(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="https://raw.githubusercontent.com/ovrclk/awesome-akash/master/".concat(t,"/deploy.yaml"),e.abrupt("return",fetch(n).then((function(e){return e.text()})));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsxs)(fe.a,{variant:"outlined",children:[Object(f.jsx)(he.a,{children:Object(f.jsx)(B.a,{gutterBottom:!0,variant:"h5",component:"h2",children:e.sdlRef.title})}),Object(f.jsxs)(pe.a,{className:n.actionsRoot,children:[Object(f.jsx)(G.a,{size:"medium",color:"secondary",startIcon:Object(f.jsx)(He.a,{}),href:(t=e.sdlRef.ref,"https://github.com/ovrclk/awesome-akash/tree/master/".concat(t)),target:"_blank",children:"Source"}),Object(f.jsx)(G.a,{size:"medium",color:"secondary",startIcon:Object(f.jsx)(L.a,{}),onClick:Object(l.a)(i.a.mark((function t(){var n;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.goToDeployTab(),t.next=3,a(e.sdlRef.ref);case 3:n=t.sent,e.setDeploySDL(n.replace("organization: ovrclk.com","host: akash"));case 5:case"end":return t.stop()}}),t)}))),children:"Deploy!"})]})]})},et=function(e){var t=Object(a.useState)([]),n=Object(u.a)(t,2),c=n[0],s=n[1],o=Object(a.useState)([]),i=Object(u.a)(o,2),l=i[0],j=i[1],d=Object(a.useState)(""),b=Object(u.a)(d,2),p=b[0],h=b[1];Object(a.useEffect)((function(){fetch("https://raw.githubusercontent.com/ovrclk/awesome-akash/master/README.md").then((function(e){return e.text()})).then((function(e){var t=[];e.split("###").slice(1).forEach((function(e,n){var a=e.split(/\r?\n/),r=a[0].trim(),c=[];a.forEach((function(e){if(e.length>3&&"- ["===e.slice(0,3)){var t=e.substring(e.indexOf("[")+1,e.indexOf("]")),n=e.substring(e.indexOf("(")+1,e.indexOf(")"));-1===n.indexOf("http")&&c.push({title:t,ref:n})}})),c.length>0&&t.push({category:r,sdlRefs:c})})),s(t),j(t)}))}),[]);var x=Object(P.a)((function(e){return Object(U.a)({root:{width:"100%",backgroundColor:e.palette.background.paper,position:"relative",overflow:"auto",maxHeight:"calc(100vh - 250px)",marginBottom:"-10px",padding:0},listSection:{backgroundColor:"inherit"},ul:{backgroundColor:"inherit",padding:0},loading:{display:"flex",flexGrow:1,justifyContent:"center",alignItems:"center"}})}))();return Object(f.jsxs)(r.a.Fragment,{children:[0===l.length&&Object(f.jsx)("div",{className:x.loading,children:Object(f.jsx)(te.a,{color:"secondary"})}),l.length>0&&Object(f.jsxs)(r.a.Fragment,{children:[Object(f.jsx)(oe.a,{fullWidth:!0,variant:"outlined",children:Object(f.jsx)(Ue.a,{value:p,onChange:function(e){var t=e.target.value,n=[];c.forEach((function(e){var a=e.category,r=e.sdlRefs;if(-1!==a.toLowerCase().indexOf(t.toLowerCase()))n.push({category:a,sdlRefs:r});else{var c=[];r.forEach((function(e){var n=e.title,a=e.ref;-1===n.toLowerCase().indexOf(t.toLowerCase())&&-1===a.toLowerCase().indexOf(t.toLowerCase())||c.push({title:n,ref:a})})),c.length>0&&n.push({category:a,sdlRefs:c})}})),j(""===t?c:n),h(t)},placeholder:"Search for SDL",color:"secondary",startAdornment:Object(f.jsx)(Ve.a,{position:"start",children:Object(f.jsx)(Ke.a,{})})})}),Object(f.jsx)(we.a,{className:x.root,subheader:Object(f.jsx)("li",{}),children:l.map((function(t){var n=t.category,a=t.sdlRefs;return Object(f.jsx)("li",{className:x.listSection,children:Object(f.jsxs)("ul",{className:x.ul,children:[Object(f.jsx)(Je.a,{children:n}),Object(f.jsx)(Se.a,{children:Object(f.jsx)(I.a,{container:!0,spacing:3,children:Array.from(Array(Math.floor(a.length-1/3)+1).keys()).map((function(t){return Object(f.jsx)(I.a,{container:!0,item:!0,xs:12,spacing:3,children:Array.from(Array(3).keys()).filter((function(e){return 3*t+(e+1)<=a.length})).map((function(n){return Object(f.jsx)(I.a,{item:!0,xs:4,children:Object(f.jsx)(Ze,{sdlRef:a[3*t+n],goToDeployTab:e.goToDeployTab,setDeploySDL:e.setDeploySDL},"card-".concat(t,",").concat(n))})}))})}))})},"item-".concat(n))]})},"section-".concat(n))}))})]})]})},tt=function(e){var t=e.children;return r.a.cloneElement(t,{elevation:0})},nt=Object(P.a)({root:{flexGrow:1},tabpanel:{display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center"}}),at=function(){var e=x(),t=e.akash,n=Object(a.useState)(0),c=Object(u.a)(n,2),s=c[0],o=c[1],j=r.a.useState('# Sample SDL that describes a Lunie Wallet frontend deployment.\n# Deploy it as is, edit it, or replace with your own!\n\n---\nversion: "2.0"\n\nservices:\n  web:\n    image: ovrclk/lunie-light\n    expose:\n      - port: 3000\n        as: 80\n        to:\n          - global: true\n\nprofiles:\n  compute:\n    web:\n      resources:\n        cpu:\n          units: 0.1\n        memory:\n          size: 512Mi\n        storage:\n          size: 512Mi\n  placement:\n    westcoast:\n      attributes:\n        host: akash\n      signedBy:\n        anyOf:\n          - "akash1365yvmc4s7awdyj3n2sav7xfx76adc6dnmlx63"\n      pricing:\n        web: \n          denom: uakt\n          amount: 1000\n\ndeployment:\n  web:\n    westcoast:\n      profile: web\n      count: 1'),d=Object(u.a)(j,2),b=d[0],p=d[1],h=function(){var n=Object(l.a)(i.a.mark((function n(){var a;return i.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t){n.next=2;break}return n.abrupt("return");case 2:return n.next=4,t.query.bank.balance(e.address,"uakt");case 4:a=n.sent,o(Number(a.amount));case 6:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}();Object(a.useEffect)((function(){h()}),[e]);var m=nt(),w=r.a.useState("1"),C=Object(u.a)(w,2),D=C[0],N=C[1];return Object(f.jsxs)(r.a.Fragment,{children:[Object(f.jsx)(g.a,{className:m.root,children:Object(f.jsxs)(T.a,{value:D,children:[Object(f.jsx)(tt,{children:Object(f.jsx)(g.a,{children:Object(f.jsx)(O.a,{children:Object(f.jsx)(g.a,{mx:10,children:Object(f.jsxs)(v.a,{children:[Object(f.jsx)(g.a,{width:200,height:72,children:Object(f.jsx)("img",{src:k,style:{height:"100%"},alt:"Akash"})}),Object(f.jsx)(g.a,{className:m.root,children:Object(f.jsxs)(F.a,{onChange:function(e,t){N(t)},indicatorColor:"secondary",textColor:"secondary",centered:!0,children:[Object(f.jsx)(M.a,{icon:Object(f.jsx)(L.a,{}),label:"DEPLOY",value:"1"}),Object(f.jsx)(M.a,{icon:Object(f.jsx)(q.a,{}),label:"SDL GALLERY",value:"2"}),Object(f.jsx)(M.a,{icon:Object(f.jsx)(E.a,{}),label:"MY DEPLOYMENTS",value:"3"}),Object(f.jsx)(M.a,{icon:Object(f.jsx)(S.a,{}),label:"CERTIFICATE",value:"4"})]})}),Object(f.jsx)(g.a,{width:200,children:Object(f.jsx)(A,{balance:s})})]})})})})}),Object(f.jsx)(v.a,{}),Object(f.jsxs)(y.a,{maxWidth:"md",children:[Object(f.jsx)(Q.a,{value:"1",children:Object(f.jsx)(g.a,{className:m.tabpanel,children:Object(f.jsx)(be,{sdl:b,updateBalance:h})})}),Object(f.jsx)(Q.a,{value:"2",children:Object(f.jsx)(et,{goToDeployTab:function(){N("1")},setDeploySDL:function(e){p(e)}})}),Object(f.jsx)(Q.a,{value:"3",children:Object(f.jsx)(Qe,{updateBalance:h})}),Object(f.jsx)(Q.a,{className:m.tabpanel,value:"4",children:Object(f.jsx)(ke,{updateBalance:h})})]})]})}),Object(f.jsx)(_e,{open:""===e.address})]})},rt=n(392),ct=n(1e3),st=n(391),ot=n.n(st),it=Object(rt.a)({palette:{primary:{main:"#ffffff"},secondary:{main:ot.a[900]}}});window.addEventListener("load",(function(e){s.a.render(Object(f.jsx)(r.a.StrictMode,{children:Object(f.jsx)(ct.a,{theme:it,children:Object(f.jsx)(m,{children:Object(f.jsx)(at,{})})})}),document.getElementById("root"))}))}},[[803,7,8]]]);
//# sourceMappingURL=main.08459502.chunk.js.map